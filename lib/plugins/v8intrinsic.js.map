{"version":3,"names":["superClass","V8IntrinsicMixin","parseV8Intrinsic","match","v8IntrinsicStartLoc","state","startLoc","node","startNode","next","tokenIsIdentifier","type","name","parseIdentifierName","start","identifier","createIdentifier","unexpected","parseExprAtom","refExpressionErrors"],"sources":["../../src/plugins/v8intrinsic.ts"],"sourcesContent":["import type Parser from \"../parser\";\nimport { tokenIsIdentifier, tt } from \"../tokenizer/types\";\nimport * as N from \"../types\";\nimport type { ExpressionErrors } from \"../parser/util\";\n\nexport default (superClass: typeof Parser) =>\n  class V8IntrinsicMixin extends superClass implements Parser {\n    parseV8Intrinsic(): N.Expression {\n      if (this.match(tt.modulo)) {\n        const v8IntrinsicStartLoc = this.state.startLoc;\n        // let the `loc` of Identifier starts from `%`\n        const node = this.startNode<N.Identifier>();\n        this.next(); // eat '%'\n        if (tokenIsIdentifier(this.state.type)) {\n          const name = this.parseIdentifierName(this.state.start);\n          const identifier = this.createIdentifier(node, name);\n          // @ts-expect-error: avoid mutating AST types\n          identifier.type = \"V8IntrinsicIdentifier\";\n          if (this.match(tt.parenL)) {\n            return identifier;\n          }\n        }\n        this.unexpected(v8IntrinsicStartLoc);\n      }\n    }\n\n    /* ============================================================ *\n     * parser/expression.js                                         *\n     * ============================================================ */\n\n    parseExprAtom(refExpressionErrors?: ExpressionErrors | null): N.Expression {\n      return (\n        this.parseV8Intrinsic() || super.parseExprAtom(refExpressionErrors)\n      );\n    }\n  };\n"],"mappings":";;;;;;;AACA;;AACA;;eAGgBA,UAAD,IACb,MAAMC,gBAAN,SAA+BD,UAA/B,CAA4D;EAC1DE,gBAAgB,GAAiB;IAC/B,IAAI,KAAKC,KAAL,IAAJ,EAA2B;MACzB,MAAMC,mBAAmB,GAAG,KAAKC,KAAL,CAAWC,QAAvC;MAEA,MAAMC,IAAI,GAAG,KAAKC,SAAL,EAAb;MACA,KAAKC,IAAL;;MACA,IAAI,IAAAC,wBAAA,EAAkB,KAAKL,KAAL,CAAWM,IAA7B,CAAJ,EAAwC;QACtC,MAAMC,IAAI,GAAG,KAAKC,mBAAL,CAAyB,KAAKR,KAAL,CAAWS,KAApC,CAAb;QACA,MAAMC,UAAU,GAAG,KAAKC,gBAAL,CAAsBT,IAAtB,EAA4BK,IAA5B,CAAnB;QAEAG,UAAU,CAACJ,IAAX,GAAkB,uBAAlB;;QACA,IAAI,KAAKR,KAAL,IAAJ,EAA2B;UACzB,OAAOY,UAAP;QACD;MACF;;MACD,KAAKE,UAAL,CAAgBb,mBAAhB;IACD;EACF;;EAMDc,aAAa,CAACC,mBAAD,EAA8D;IACzE,OACE,KAAKjB,gBAAL,MAA2B,MAAMgB,aAAN,CAAoBC,mBAApB,CAD7B;EAGD;;AA5ByD,C"}